{% extends "files/desktop/Header/Header.html" %}
{% block content %}

<style type="text/css">
/*siva starts*/
.form-container-grid-table table tr td ul a{
  text-decoration: none;

  color:black;
  width:100%;
  height:100%;  
  
}
.form-container-grid-table table tr td ul li{
  cursor:pointer;
}
.form-container-grid-table table tr td ul li:hover{
  background: #EAE8E8;  
}
.form-container-grid-table table tr td ul li.active:hover {
  background: #f1e9f6 url(../images/tick1.png) no-repeat right center;
  background-size: 1em;
  border-right: 3px solid #f1e9f6
}

/*.edit-statutory{
float:left;margin-right:5px;margin-left:5px;margin-top:3px;
cursor:pointer;
}*/
/*siva ends*/

  .form-container-grid-table-sm table tr td ul li:hover{
    background: #EAE8E8;  
    cursor:pointer;
  }
  .form-container-grid-table-sm table tr td ul li.active:hover {
    background: #f1e9f6 url(../images/tick1.png) no-repeat right center;
    background-size: 1em;
    border-right: 3px solid #f1e9f6
  }

  .text-center
  {
    text-align: center;
  }

  .nav > li {
    background-color: #a381bd;
    position: relative;
    display: block;
    border-radius: 6px;

    -webkit-transition: all 0.2s ease-in-out;
    transition: all 0.2s ease-in-out;
  }

  .nav > li > a {
    color: #ffffff;
    position: relative;
    display: block;
    padding: 10px 15px;
    text-decoration: none;
  }

  .nav > li > a:focus {
    text-decoration: none;
    background-color: #eeeeee;
  }
  .nav > li.disabled > a {
    color: #999999;
    background-color: #eee;
    border-radius:6px;
  }

  .nav > li.disabled > a:focus {
    color: #999999;
    background-color: #eee;
    text-decoration: none;
    cursor: not-allowed;
  }

  .nav .open > a,
  .nav .open > a:focus {
    background-color: #eeeeee;
    border-color: #662d91;
  }

  .nav .nav-divider {
    height: 1px;
    margin: 9px 0;
    overflow: hidden;
    background-color: #e5e5e5; 
  }

  .nav > li > a > img {
    max-width: none;
  }

  .nav-pills > li {
    float: left;
  }

  .nav-pills > li > a {
    border-radius: 5px;
  }

  .nav-pills > li + li {
    
  }

  .nav-pills > li.active > a,
  .nav-pills > li.active > a:focus {
    color: #ffffff;
    background-color: #662d91;
  }

  .nav-justified {
    width: 100%;
  }

  .nav-justified > li {
    margin-right: 0.5%;
    float: left;
    width: 24.5%; 
   
  }

  .nav-justified > li > a {
    text-align: left;
  }

  .thumbnail {
    display: inline-block;
    display: block;
    height: auto;
    max-width: 100%;
    padding: 4px;
    line-height: 1.428571429;
    background-color: #ffffff;
    border: 0px solid #dddddd;
    border-radius: 6px;
    -webkit-transition: all 0.2s ease-in-out;
    transition: all 0.2s ease-in-out;
  }
  .setup-content
  {
    border:0px solid #ccc ;
    border-radius: 5px;
  }
  .innercontent
  {
    width: 100%;
    min-height: 530px;
    margin-top: 10px;
    margin-bottom: 10px;
  }
  .btn-right
  {
    float:right;
    color: #ffffff;
    background-color: #662d91;
    border: 0px;
    border-radius: 4px;
    -webkit-transition: all 0.2s ease-in-out;
    transition: all 0.2s ease-in-out;
    padding: 5px 10px 5px 10px;
    font-size:12px;
    margin-right: 10px;
    margin-top: 10px;
  }

</style>

<script type="text/javascript">
$(document).ready(function(){
  $('#days').hide();
  $('#hours').show();
  $("#trigger_every").show();
})

$(function() {
  $(".dayhour").change(function(){
    if($(this).val()=="day")
    {
      $('#days').show();
      $('#hours').hide();
      $("#trigger_every").show();
    }else if($(this).val()=="hour"){
      $('#days').hide();
      $('#hours').show();
      $("#trigger_every").show();
    } 
  });

  $('.tasktype').change(function(){
    if($(this).val()=="Periodical" || $(this).val()=="Review")
    {
      $('#Recurring').show();
      $('#Occasional').hide();
      $('#One_Time').hide();
    }
   
    else if($(this).val() == "OnOccurrence" )
    {
      $('#Recurring').hide();
      $('#Occasional').show();
      $('#One_Time').hide();
    }
    
    else if($(this).val() == "OneTime")
    {
      $('#Recurring').hide();
      $('#Occasional').hide();
      $('#One_Time').show();
    }
    else
    {
      $('#Recurring').hide();
      $('#Occasional').hide();
      $('#One_Time').hide();
    }
  });

  $('.multipleinput').change(function() {
    if ($(this).is(':checked')) {
      if($('#repeats_type').val() == 'month'){
        $('.multipleselectnone').hide();
        $('.multipleselect').show();
        load_stautorydates();
      }else{
        $('.multipleselect').hide();
        $('.multipleselectnone').show();
      }
      
    } else {
      $('.multipleselect').hide();
      $('.multipleselectnone').show();
    }
  });

  $('#repeats_type').change(function() {
      if($('#repeats_type').val() == 'month' && $('.multipleinput').prop("checked") == 'true'){
        $('.multipleselectnone').hide();
        $('.multipleselect').show();
        load_stautorydates();
      }else{
        $('.multipleselect').hide();
        $('.multipleselectnone').show();
      }
  });
   $('#repeats_every').change(function() {
      if($('#repeats_type').val() == 'month' && $('.multipleinput').prop("checked") == 'true'){
        $('.multipleselectnone').hide();
        $('.multipleselect').show();
        load_stautorydates();
      }else{
        $('.multipleselect').hide();
        $('.multipleselectnone').show();
      }
  });

  $('.repeatlabelday').click(function(){    
      $('#single_statutory_date').show();  
      $('#multiple_statutory_date1').show();
      $('#multiple_statutory_date2').show();
      $('#multiple_statutory_date3').show();
      $('#multiple_statutory_date4').show();
      $('#multiple_statutory_date5').show();
      $('#multiple_statutory_date6').show(); 

      $('#single_statutory_date').val('');
      $('#multiple_statutory_date1').val('');
      $('#multiple_statutory_date2').val('');
      $('#multiple_statutory_date3').val('');
      $('#multiple_statutory_date4').val('');
      $('#multiple_statutory_date5').val('');
      $('#multiple_statutory_date6').val(''); 
  });
  $('.repeatlabelendday').click(function(){    
      $('#single_statutory_date').hide();
      $('#multiple_statutory_date1').hide();
      $('#multiple_statutory_date2').hide();
      $('#multiple_statutory_date3').hide();
      $('#multiple_statutory_date4').hide();
      $('#multiple_statutory_date5').hide();
      $('#multiple_statutory_date6').hide();

      $('#single_statutory_date').val('30');
      $('#multiple_statutory_date1').val('30');
      $('#multiple_statutory_date2').val('30');
      $('#multiple_statutory_date3').val('30');
      $('#multiple_statutory_date4').val('30');
      $('#multiple_statutory_date5').val('30');
      $('#multiple_statutory_date6').val('30');

  });
  });

function load_stautorydates(){
        var rep_every = parseInt($('#repeats_every').val());
        if(rep_every == 1 || rep_every == 12){
          $('.input-row1').show();
          $('.input-row2').hide();
          $('.input-row3').hide();
          $('.input-row4').hide();
          $('.input-row5').hide();
          $('.input-row6').hide();
        }else if (rep_every == 2){
          $('.input-row1').show();
          $('.input-row2').show();
          $('.input-row3').show();
          $('.input-row4').show();
          $('.input-row5').show();
          $('.input-row6').show();
        }else if (rep_every == 3){
          $('.input-row1').show();
          $('.input-row2').show();
          $('.input-row3').show();
          $('.input-row4').show();
          $('.input-row5').hide();
          $('.input-row6').hide();
        }else if (rep_every == 4){
          $('.input-row1').show();
          $('.input-row2').show();
          $('.input-row3').show();
          $('.input-row4').hide();
          $('.input-row5').hide();
          $('.input-row6').hide();
        }else if (rep_every == 5){
          $('.input-row1').show();
          $('.input-row2').show();
          $('.input-row3').show();
          $('.input-row4').hide();
          $('.input-row5').hide();
          $('.input-row6').hide();
        }else{
          $('.input-row1').show();
          $('.input-row2').show();
          $('.input-row3').hide();
          $('.input-row4').hide();
          $('.input-row5').hide();
          $('.input-row6').hide();
        }
}
</script> 

<link rel="stylesheet" type="text/css" href="/files/desktop/common/css/tooltip/tipso.css">
<script src="/files/desktop/common/js/tooltip/tipso.js"></script>

<script type="text/javascript" src="/files/desktop/StatutoryMapping/statutorymapping.js"></script>
<script type="text/javascript" src="/files/desktop/StatutoryMapping/statutorymapping.js"></script>
<script type="text/javascript" src="/files/desktop/common/js/mirror.js"></script>

<div id="listview" style="display:block">
  <div class="content-container width75" >
  <div class="content-area">
      <h1>Statutory Mapping List</h1>
      <div class="filters-and-search">
      <div class="btn-add" onclick="displayAdd();">Add</div>
    </div>
      <div class="clearfix"></div>
      <div class="grid-table">
      <table>
          <tr align="left">
          <th align="center">#</th>
          <th width="10%">Country</th>
          <th width="10%">Domain</th>
          <th width="10%">Industry</th>
          <th width="10%">Statutory Nature</th>
          <th width="35%">Statutory</th>
         <th width="30%">Compliance Task</th>
          <th width="5%" align="center">Edit</th>
          <th width="5%" align="center" style="padding-right:3px">Status</th>
          <th width="5%" align="center" style="padding-right:3px">Approval Status</th>
        </tr>
        <tr>
          <td align="center"></td>
          <td><input type="text" class="filter-text-box" onkeyup="filter(this, 1)"></td>
          <td><input type="text" class="filter-text-box" onkeyup="filter(this, 2)"></td>
          <td><input type="text" class="filter-text-box" onkeyup="filter(this, 3)"></td>
          <td><input type="text" class="filter-text-box" onkeyup="filter(this, 4)"></td>
          <td><input type="text" class="filter-text-box" onkeyup="filter(this, 5)"></td>
          <td><input type="text" class="filter-text-box" onkeyup="filter(this, 6)"></td>
          <td align="center"></td>
          <td align="center"></td>
          <td align="center"></td>
        </tr>

        <tbody class="tbody-statutorymapping-list" id="filter_statutorymapping">        
        </tbody>
        </table>
    </div>
      
    </div>
</div>
</div>

<div id="templates">
<table class="table-statutorymapping">
  <tr class="table-row">
    <td class="sno" align="center"></td>
    <td class="country"></td>
    <td class="domain"></td>
    <td class="industry"></td>
    <td class="statutorynature"></td>
    <td class="statutory"></td>
    <td class="compliancetask"></td>
    <td class="edit" align="center"></td>
    <td class="status" align="center"></td>
    <td class="approvalstatus"></td>
  </tr>
</table>
</div>

<div id="addview" style="display:none">

<div class="content-container width75">
  <div class="content-area">
    <h1>Statutory Mapping</h1>
    <span id="error" class="error-message" style="color:black;"></span>
    <div class="add-container">
    <div class="form-container-outer">
    <ul class="nav  nav-pills nav-justified setup-panel">
    <li class="active"><a href="#step-1">
      <h4 class="list-group-item-heading">1. Select Domain</h4>
    </a>
    </li>
    <li class="disabled"><a href="#step-2">
      <h4 class="list-group-item-heading">2. Select Statutory</h4>
    </a></li>
    <li class="disabled"><a href="#step-3">
      <h4 class="list-group-item-heading">3. Compliances</h4>
    </a></li>
    <li class="disabled"><a href="#step-4">
      <h4 class="list-group-item-heading">4. Applicable Location</h4>
    </a></li>
  </ul>

  <div class="clearfix"></div>
  <div class="setup-content" id="step-1">
    <div class="innercontent">
      <div class="form-container-grid-table-sm">
              <table style="height:500px">
                <tr align="left">
                  <th width="25%">Country</th>
                  <th width="25%">Domain</th>
                  <th width="25%">Industry</th>
                  <th width="25%">Statutory Nature</th>
                </tr>

                <tr>
                  <td>
                  <input type="text" class="filter-text-box" id="filter_country">
                  </td>
                  <td>
                  <input type="text" class="filter-text-box" id="filter_domain">
                  </td>

                  <td>
                  <input type="text" class="filter-text-box" id="filter_industry">
                  </td>
                  <td>
                  <input type="text" class="filter-text-box" id="filter_statutorynature">
                  </td>
                </tr>

                <tr>
                  <td>
                  <ul style="height:500px;overflow-y:scroll" id="country">
                  </ul>
                  </td>
                  <td>
                  <ul style="height:500px;overflow-y:scroll" id="domain">  
                  </ul>
                  </td>
                  <td>
                  <ul style="height:500px;overflow-y:scroll" id="industry">  
                  </ul>
                  </td>
                  <td>
                  <ul  style="height:500px;overflow-y:scroll" id="statutorynature"> 
                  </ul>
                  </td>
                </tr>
              </table>
            </div>
    </div>
    <button id="activate-step-2" class="btn-right">Next</button>
  </div>

  <div class="setup-content" id="step-2">
    <div class="innercontent">
     <div class="form-container-grid-table">
            <h2 style="font-size:0.813em;" class="breadcrumbs_1"> </h2>
            <input type="hidden" id="statutoryid"> 
            <table>
              <tbody class="tbody-statutory-level">        
              </tbody>
            </table>

             </div>
             <div class="clearfix"></div>
             <div style="padding-top:3px;padding-bottom:5px;" align="center"><input type="submit" class="btn-submit" value="Add" onclick="temp_addstatutories()" /></div>
             
             <div class="grid-table">
              <table width="100%">
                <tr align="left" style="height:2.0em;">
                  <th style="height:2em;width:5%" align="center">#</th>
                  <th style="height:2em;width:85%">Statutory</th>
                  <th align="center" style="padding-right:3px; height:2em;width:10%">Remove</th>
                </tr>
                <tbody class="tbody-statutory-list">        
                </tbody>
               
              </table>
            </div>
    </div>
    <button id="activate-step-3" class="btn-right">Next</button>
    <button id="backward-step-1" class="btn-right">Previous</button>
  </div>

  <div style="float:left;width:25%" id="statutory-level-templates">
  <table style="width:100%;">
    <tr align="left">
      <th style="overflow: hidden;" class="statutory_title"></th>
    </tr>
    <tr>
      <td style="overflow: hidden;" class="statutory_levelvalue">
      </td>
    </tr>
  </table>
</div>
<div id="statutory-templates">
<table class="table-statutory">
  <tr class="table-row">
    <td class="sno" align="center"></td>
    <td class="statutory"></td>
    <td class="remove" align="center"></td>
  </tr>
</table>
</div>
<div class="setup-content" id="step-3">
<div class="innercontent">

<table style="width:100%;line-height: 25px;float: left;background: #f1e9f6;color: #000;-webkit-border-radius: 0.3em;-moz-border-radius: 0.3em; border-radius: 0.3em;">
  <tr>
  <td style="width:auto%; vertical-align: middle;">
  <h2 style="font-size:0.813em;" class="breadcrumbs_1"> </h2>
  </td>
  <td style="width:auto; vertical-align: middle;">
   <h2><img src="/images/chevron_black_right.png"></h2>
  </td>
   <td style="width:auto%; vertical-align: middle;">
   <h2 style="font-size:0.813em;" class="breadcrumbs_2"> </h2>
  </td>
  </tr>
</table>
  
             <div class="form-container-grid-table-sm">
              <section id="section-flip-1">
                <div class="input-row-left">
                <div class="input-row">
                    <div class="field-label">Statutory Provision<span class="mandatory">*</span></div>
                    <div class="field-input">
                      <textarea class="input-box heightsmall" id="statutory_provision" ></textarea>
                    </div>
                  </div>
                  <div class="input-row">
                    <div class="field-label">Compliance Task<span class="mandatory">*</span></div>
                    <div class="field-input">
                      <input type="text" class="input-box" value="" id="compliance_task"/>
                    </div>
                  </div>
                  <div class="input-row">
                    <div class="field-label">Compliance Description<span class="mandatory">*</span></div>
                    <div class="field-input">
                      <textarea class="input-box heightsmall" id="compliance_description" ></textarea>
                        <p id="counter" style="font-size:0.65em;"></p>
                    </div>
                  </div>
                  <div class="input-row">
                    <div class="field-label">Compliance Frequency<span class="mandatory">*</span></div>
                    <div class="field-input">
                      <select class="input-box tasktype" id="compliance_frequency">
                        <option value="">Select</option>
                        <option value="Periodical">Periodical</option>
                        <option value="Review">Review</option>
                        <option value="OneTime">One Time</option>
                        <option value="OnOccurrence">On Occurrence</option>
                    </select>
                  </div>
                </div>
                
              </div>
              <div class="input-row-right">
                <div class="input-row">
                  <div class="field-label">Compliance Document</div>
                  <div class="field-input">
                   <input type="text" class="input-box"  value="" id="compliance_document">
                 </div>
               </div>
               <div class="input-row">
                <div class="field-label">Format</div>
                <div class="field-input">
                 <input type="file" class="input-box" id="upload_file">
               </div>
             </div>
             <div class="input-row">
              <div class="field-label">Penal Consequences</div>
              <div class="field-input">
                <textarea class="input-box heightsmall" id="penal_consequences"></textarea>
              </div>
            </div>
          </div>

        </section>
        <div class="clearfix"></div>

        <div class="one_time" id="One_Time" style="display:none;">
         <fieldset>
          <legend>One Time</legend>
          <div class="input-row-left">
            <div class="input-row">
              <div class="field-label">Statutory Date</div>
              <div class="field-input">
               <select class="input-box" style="width:60px;" id="statutory_date">
               </select>
              <select class="input-box" style="width:60px;" id="statutory_month">
                <option value="">Select</option>
                <option value="1">Jan</option>
                <option value="2">Feb</option>
                <option value="3">Mar</option>
                <option value="4">Apr</option>
                <option value="5">May</option>
                <option value="6">Jun</option>
                <option value="7">Jul</option>
                <option value="8">Aug</option>
                <option value="9">Sep</option>
                <option value="10">Oct</option>
                <option value="11">Nov</option>
                <option value="12">Dec</option>
              </select>
            </div>
          </div>
        </div>
        <div class="input-row-right">
          <div class="input-row">
            <div class="field-label">Trigger Before</div>
            <div class="field-input">
            <input type="text" class="input-box" value="" style="width:50px; float:left;" id="triggerbefore">
              <span style="font-size:0.8em; float:left; padding-top:5px;">&nbsp;Days</span> 
            </div>
            </div>
          </div>
          <div class="input-row-right">
          </div>
        </fieldset>
      </div>
  <div class="occasional" id="Occasional" style="display:none;">
    <fieldset>
      <legend>On Occurrence</legend>
      <div class="input-row-left">
        <div class="input-row">
          <div class="field-label">To Complete Within</div>
          <div class="field-input">
            <input class="input-box " value="" style="width:55px; float:left;" id="duration">
            <select class="input-box dayhour" style="width:100px; margin-left:10px; float:left;" id="duration_type">
              <option value="day">Days</option>
              <option value="hour">Hours</option>
            </select>
          </div>
        </div>
       <div class="input-row">
        <div class="field-label">Summary</div>
        <div class="field-input"> <span style="font-size:0.8em; float:left; padding-top:5px;" class="occasional_summary" id="summary"></span> </div>
      </div>
    </div>
    <div class="input-row-right">
    </div>
  </fieldset>
</div>
<div class="recurring" id="Recurring" style="display:none;">

  <fieldset>
    <legend>Periodical</legend>
    <div class="input-row-left">
      <div class="input-row">
        <div class="field-label">Repeats Every<span class="mandatory">*</span></div>
        <div class="field-input">
         <select class="input-box" class="month_recurring_sel" style="width:50px; float:left;" id="repeats_every">
          <option></option>
          <option>1</option>
          <option>2</option>
          <option>3</option>
          <option>4</option>
          <option>5</option>
          <option>6</option>
          <option>7</option>
          <option>8</option>
          <option>9</option>
          <option>10</option>
          <option>11</option>
          <option>12</option>
        </select>
        <select class="input-box" style="width:100px; margin-left:10px; float:left;" id="repeats_type">
          <option value="">Select</option>
          <option value="day">Day(s)</option>
          <option value="month">Month(s)</option>
          <option value="year">Year(s)</option>
        </select>
        <div class="clearfix"></div>
        <label style="font-size:0.8em; padding-top:5px;"></label>
      </div>
    </div>
    <div class="input-row">
      <div class="field-label">Repeat by<span class="mandatory">*</span></div>
      <div class="field-input">
        <label style="padding:3px 0px 5px 0px; vertical-align:middle;" class="repeatlabelday" >
          <input type="radio" name="repeatby" style="width:20px;float:left;" value="dayofmonth" checked="checked">
          <span style="font-size:0.8em; padding-top:4px; float:left;">Day of the month</span>                          
        </label>
        <div class="clearfix"></div>
        <label   class="repeatlabelendday" >
          <input type="radio" name="repeatby" style="width:20px; float:left;"   value="enddayofmonth">
          <span style="font-size:0.8em; padding-top:4px;">End day of the month</span>    
        </label>
      </div>
    </div>
  </div>
  <div class="input-row-right">
   <div class="input-row">
    <div class="field-label" style="width:100% !important;"><input type="checkbox" class="multipleinput" />Multiple Input Selection</div>
  </div>
  <div class="multipleselect" style="display:none">
   <div class="input-row">
    <div class="field-label">Statutory Date 1</div>
    <div class="field-input">
     <span style="float:left;margin-left:0px;">
      <select class="input-box" style="width:60px;" id="multiple_statutory_date1">
      </select>
      <select class="input-box" style="width:60px;" id="multiple_statutory_month1">
        <option value="">Select</option>
        <option value="1">Jan</option>
        <option value="2">Feb</option>
        <option value="3">Mar</option>
        <option value="4">Apr</option>
        <option value="5">May</option>
        <option value="6">Jun</option>
        <option value="7">Jul</option>
        <option value="8">Aug</option>
        <option value="9">Sep</option>
        <option value="10">Oct</option>
        <option value="11">Nov</option>
        <option value="12">Dec</option>
      </select>
    </span>
  <span style="float:left; font-size:0.8em; margin-left:20px; padding-top:8px;">Trigger Before &nbsp;&nbsp;</span>
  <input type="text" class="input-box" value="" style="width:40px; float:left;" id="multiple_triggerbefore1">
  <span style="font-size:0.8em; float:left; padding-top:5px;">&nbsp;Days</span>
</div>
</div>
<div class="clearfix"></div>
<div class="input-row2" style="display:none">
    <div class="field-label">Statutory Date 2</div>
    <div class="field-input">
     <span style="float:left;margin-left:0px;">
      <select class="input-box" style="width:60px;" id="multiple_statutory_date2">
      </select>
      <select class="input-box" style="width:60px;" id="multiple_statutory_month2">
        <option value="">Select</option>
        <option value="1">Jan</option>
        <option value="2">Feb</option>
        <option value="3">Mar</option>
        <option value="4">Apr</option>
        <option value="5">May</option>
        <option value="6">Jun</option>
        <option value="7">Jul</option>
        <option value="8">Aug</option>
        <option value="9">Sep</option>
        <option value="10">Oct</option>
        <option value="11">Nov</option>
        <option value="12">Dec</option>
      </select>
    </span>
  <span style="float:left; font-size:0.8em; margin-left:20px; padding-top:8px;">Trigger Before &nbsp;&nbsp;</span>
  <input type="text" class="input-box" value="" style="width:40px; float:left;" id="multiple_triggerbefore2">
  <span style="font-size:0.8em; float:left; padding-top:5px;">&nbsp;Days</span>
</div>
</div>
<div class="clearfix"></div>
<div class="input-row3" style="display:none;padding-top:10px;">
    <div class="field-label">Statutory Date 3</div>
    <div class="field-input">
     <span style="float:left;margin-left:0px;">
      <select class="input-box" style="width:60px;" id="multiple_statutory_date3">
      </select>
      <select class="input-box" style="width:60px;" id="multiple_statutory_month3">
        <option value="">Select</option>
        <option value="1">Jan</option>
        <option value="2">Feb</option>
        <option value="3">Mar</option>
        <option value="4">Apr</option>
        <option value="5">May</option>
        <option value="6">Jun</option>
        <option value="7">Jul</option>
        <option value="8">Aug</option>
        <option value="9">Sep</option>
        <option value="10">Oct</option>
        <option value="11">Nov</option>
        <option value="12">Dec</option>
      </select>
    </span>
  <span style="float:left; font-size:0.8em; margin-left:20px; padding-top:8px;">Trigger Before &nbsp;&nbsp;</span>
  <input type="text" class="input-box" value="" style="width:40px; float:left;" id="multiple_triggerbefore3">
  <span style="font-size:0.8em; float:left; padding-top:5px;">&nbsp;Days</span>
</div>
<br/>
</div>

<div class="clearfix"></div>
<div class="input-row4" style="display:none;padding-top:10px;">
    <div class="field-label">Statutory Date 4</div>
    <div class="field-input">
     <span style="float:left;margin-left:0px;">
      <select class="input-box" style="width:60px;" id="multiple_statutory_date4">
      </select>
      <select class="input-box" style="width:60px;" id="multiple_statutory_month4">
        <option value="">Select</option>
        <option value="1">Jan</option>
        <option value="2">Feb</option>
        <option value="3">Mar</option>
        <option value="4">Apr</option>
        <option value="5">May</option>
        <option value="6">Jun</option>
        <option value="7">Jul</option>
        <option value="8">Aug</option>
        <option value="9">Sep</option>
        <option value="10">Oct</option>
        <option value="11">Nov</option>
        <option value="12">Dec</option>
      </select>
    </span>
  <span style="float:left; font-size:0.8em; margin-left:20px; padding-top:8px;">Trigger Before &nbsp;&nbsp;</span>
  <input type="text" class="input-box" value="" style="width:40px; float:left;" id="multiple_triggerbefore4">
  <span style="font-size:0.8em; float:left; padding-top:5px;">&nbsp;Days</span>
</div>
<br/>
</div>
<div class="clearfix"></div>
<div class="input-row5" style="display:none;padding-top:10px;">
    <div class="field-label">Statutory Date 5</div>
    <div class="field-input">
     <span style="float:left;margin-left:0px;">
      <select class="input-box" style="width:60px;" id="multiple_statutory_date5">
      </select>
      <select class="input-box" style="width:60px;" id="multiple_statutory_month5">
        <option value="">Select</option>
        <option value="1">Jan</option>
        <option value="2">Feb</option>
        <option value="3">Mar</option>
        <option value="4">Apr</option>
        <option value="5">May</option>
        <option value="6">Jun</option>
        <option value="7">Jul</option>
        <option value="8">Aug</option>
        <option value="9">Sep</option>
        <option value="10">Oct</option>
        <option value="11">Nov</option>
        <option value="12">Dec</option>
      </select>
    </span>
  <span style="float:left; font-size:0.8em; margin-left:20px; padding-top:8px;">Trigger Before &nbsp;&nbsp;</span>
  <input type="text" class="input-box" value="" style="width:40px; float:left;" id="multiple_triggerbefore5">
  <span style="font-size:0.8em; float:left; padding-top:5px;">&nbsp;Days</span>
</div>
<br/>
</div>
<div class="clearfix"></div>
<div class="input-row6" style="display:none;padding-top:10px;">
    <div class="field-label">Statutory Date 6</div>
    <div class="field-input">
     <span style="float:left;margin-left:0px;">
      <select class="input-box" style="width:60px;" id="multiple_statutory_date6">
      </select>
      <select class="input-box" style="width:60px;" id="multiple_statutory_month6">
        <option value="">Select</option>
        <option value="1">Jan</option>
        <option value="2">Feb</option>
        <option value="3">Mar</option>
        <option value="4">Apr</option>
        <option value="5">May</option>
        <option value="6">Jun</option>
        <option value="7">Jul</option>
        <option value="8">Aug</option>
        <option value="9">Sep</option>
        <option value="10">Oct</option>
        <option value="11">Nov</option>
        <option value="12">Dec</option>
      </select>
    </span>
  <span style="float:left; font-size:0.8em; margin-left:20px; padding-top:8px;">Trigger Before &nbsp;&nbsp;</span>
  <input type="text" class="input-box" value="" style="width:40px; float:left;" id="multiple_triggerbefore6">
  <span style="font-size:0.8em; float:left; padding-top:5px;">&nbsp;Days</span>
</div>
<br/>
</div>
<div>
  <div class="field-label">Summary</div>
  <div class="field-input"> 
  <span style="font-size:0.8em; float:left; padding-top:5px;" class="summary_repeat"></span> 
  </div>
</div>

</div>
<div class="multipleselectnone">
  <div class="input-row">
    <div class="field-label">Statutory Date </div>
    <div class="field-input">
     <span style="float:left;margin-left:0px;">
      <select class="input-box" style="width:60px;" id="single_statutory_date" >
      </select>
      <select class="input-box" style="width:60px;" id="single_statutory_month">
       <option value="">Select</option>
      <option value="1">Jan</option>
      <option value="2">Feb</option>
      <option value="3">Mar</option>
      <option value="4">Apr</option>
      <option value="5">May</option>
      <option value="6">Jun</option>
      <option value="7">Jul</option>
      <option value="8">Aug</option>
      <option value="9">Sep</option>
      <option value="10">Oct</option>
      <option value="11">Nov</option>
      <option value="12">Dec</option>
      </select>
    </span>
</div>
</div>
<div class="input-row">
  <div class="field-label">Trigger Before</div>
  <div class="field-input">
  <input type="text" class="input-box" value="" style="width:50px; float:left;" id="single_triggerbefore">
    <span style="font-size:0.8em; float:left; padding-top:5px;">&nbsp;Days</span> </div>
  </div>
  <div class="input-row">
    <div class="field-label">Summary</div>
    <div class="field-input"> <span style="font-size:0.8em; float:left; padding-top:5px;" class="summary_repeat"> </span> </div>
  </div>
</div>
</div>
</fieldset>
</div>

<div class="clearfix"></div>
<div align="center" style="padding-top:5px; padding-bottom:5px;">
<input type="submit" name="submit" value="Add" onclick="temp_addcompliance()" class="btn-submit">
<input type="hidden" id="complianceid" value=""/>
</div>
</div>
<div class="grid-table">
  <table>
    <tr align="left" style="height:2.0em;">
      <th style="height:2em;" align="center">#</th>
      <th style="height:2em;">Statutory Provision</th>
      <th style="height:2em;">Task</th>
      <th style="height:2em;">Description</th>
      <th style="height:2em;">Frequency</th>
      <th style="height:2em;">Repeats</th>
      <th style="height:2em;" align="center">Edit</th>
      <th align="center" style="padding-right:3px; height:2em;">Status</th>
    </tr>

    <tbody class="tbody-compliance-list">        
    </tbody>
  </table>
</div>
  </div>
    <button id="activate-step-4" class="btn-right">Next</button>
    <button id="backward-step-2" class="btn-right">Previous</button>
  </div>
<div id="compliance-templates">
<table class="table-compliance">
  <tr class="table-row">
    <td class="sno" align="center"></td>
    <td class="statutory-provision"></td>
    <td class="task"></td>
    <td class="description"></td>
    <td class="frequency"></td>
    <td class="repeats"></td>
    <td class="edit" align="center"></td>
    <td class="status" align="center"></td>
  </tr>
</table>
</div>
  <div class="setup-content" id="step-4">
    <div class="innercontent">
      
  <table style="width:100%;line-height: 25px;float: left;background: #f1e9f6;color: #000;-webkit-border-radius: 0.3em;-moz-border-radius: 0.3em; border-radius: 0.3em;">
  <tr>
  <td style="width:auto%; vertical-align: middle;">
  <h2 style="font-size:0.813em;" class="breadcrumbs_1"> </h2>
  </td>
  <td style="width:auto; vertical-align: middle;">
   <h2><img src="/images/chevron_black_right.png"></h2>
  </td>
   <td style="width:auto%; vertical-align: middle;">
   <h2 style="font-size:0.813em;" class="breadcrumbs_2"> </h2>
  </td>
  <td style="width:auto; vertical-align: middle;">
   <h2><img src="/images/chevron_black_right.png"></h2>
  </td>
   <td style="width:auto%; vertical-align: middle;">
   <h2 style="font-size:0.813em;" class="breadcrumbs_3"> </h2>
  </td>
  </tr>
</table>


  <div class="form-container-grid-table" style="padding-top:10px;">
  <table>
    <tbody class="tbody-geography-level">        
    </tbody>
  </table>
  </div>


    </div>
    <button id="activate-step-finish" class="btn-right">Submit</button>
    <button id="backward-step-3" class="btn-right">Previous</button>
  </div>
<div style="float:left;width:25%" id="geography-level-templates">
  <table style="width:100%;">
    <tr align="left">
      <th style="overflow: hidden;" class="title"></th>
    </tr>
    <tr>
      <td style="overflow: hidden;" class="levelvalue">
      </td>
    </tr>
  </table>
</div>
      </div>
    </div>
  </div>
</div>
</div>

<script type="text/javascript">
  $(document).ready(function() {
    var navListItems = $('ul.setup-panel li a'),
    allWells = $('.setup-content');
    allWells.hide();
    navListItems.click(function(e)
    {
      e.preventDefault();
      var $target = $($(this).attr('href')),
      $item = $(this).closest('li');

      if (!$item.hasClass('disabled')) {
        navListItems.closest('li').removeClass('active');
        $item.addClass('active');
        allWells.hide();
        $target.show();
      }
    });

    $('ul.setup-panel li.active a').trigger('click');
    $('#activate-step-2').on('click', function(e) {
      if (validate_firsttab()){
      $('ul.setup-panel li:eq(1)').removeClass('disabled');
      $('ul.setup-panel li a[href="#step-2"]').trigger('click');
      }
      
    }) 
    $('#activate-step-3').on('click', function(e) {
      if (validate_secondtab()){
      $('ul.setup-panel li:eq(2)').removeClass('disabled');
      $('ul.setup-panel li a[href="#step-3"]').trigger('click');
    }
    })  

    $('#activate-step-4').on('click', function(e) {
      if (validate_thirdtab()){
      $('ul.setup-panel li:eq(3)').removeClass('disabled');
      $('ul.setup-panel li a[href="#step-4"]').trigger('click');
    }
    })  

    $('#backward-step-1').on('click', function(e) {
      $('ul.setup-panel li:eq(1)').removeClass('disabled');
      $('ul.setup-panel li a[href="#step-1"]').trigger('click');
      
    })  
    $('#backward-step-2').on('click', function(e) {
      $('ul.setup-panel li:eq(2)').removeClass('disabled');
      $('ul.setup-panel li a[href="#step-2"]').trigger('click');
      
    })  
    $('#backward-step-3').on('click', function(e) {
      $('ul.setup-panel li:eq(3)').removeClass('disabled');
      $('ul.setup-panel li a[href="#step-3"]').trigger('click');
      
    })  
    $('#activate-step-finish').on('click', function(e) {
      getGeographyResult();
      if (validate_fourthtab()){
        saveRecord();
      }   
    })  

});

</script>


<script type="text/javascript">
  jQuery(window).load(function(){
    jQuery('.page-load').tipso({
      tooltipHover: true
    });
  });
</script> 
<script type="text/javascript">
  $(function()
        {
            $('#compliance_description').keyup(function(e)
            {
                var maxLength = 500;
                var textlength = this.value.length;
                if (textlength >= maxLength)
                {
                    $('#counter').html('You cannot write more then ' + maxLength + ' characters!');
                    this.value = this.value.substring(0, maxLength);
                    e.preventDefault();
                }
                else
                {
                    $('#counter').html((maxLength - textlength) + ' characters left.');
                }
            });

            $('#duration').keyup(function()
            {
                 $("#summary").html("To Complete within " + $('#duration').val() + " " + $('#duration_type').val().charAt(0).toUpperCase() + $('#duration_type').val().slice(1)+"(s)" );
            });
            $('#duration_type').change(function()
            {
                $("#summary").html("To Complete within " + $('#duration').val() + " " + $('#duration_type').val().charAt(0).toUpperCase() + $('#duration_type').val().slice(1)+"(s)" );
            });

            $('#repeats_every').change(function()
            {
                $(".summary_repeat").html("Every " + $('#repeats_every').val() + " " + $('#repeats_type').val().charAt(0).toUpperCase() + $('#repeats_type').val().slice(1)+"(s)");
            });

            $('#repeats_type').change(function()
            {
                $(".summary_repeat").html("Every " + $('#repeats_every').val() + " " + $('#repeats_type').val().charAt(0).toUpperCase() + $('#repeats_type').val().slice(1)+"(s)");
            });
        });
</script>
{% endblock %} 