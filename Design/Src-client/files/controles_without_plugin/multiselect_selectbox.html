<html>
<head>
<title>Select Box</title>

<style type="text/css">
.multi-selectbox li
{
list-style-type:none; line-height:25px;
}
.multi-selectbox ul {
	border:1px solid red;
	position: absolute;
  	padding-left: 0em;
  	background: #ffffff;
	
}
.multi-selectbox ul li {
	padding-bottom: 0.5em;
	font-size: 0.9em;
	padding-top: 0.3em;
	padding-right: 0.3em;
	padding-left:1.5em;
	cursor: pointer;
}
/*table tr td ul a{
	text-decoration: none;
	color:black;
	width:100%;
	height:100%;	
	
}*/
.multi-selectbox ul li:hover{
	background: #EAE8E8;	
}
.multi-selectbox ul li.active_selectbox {
	background: #f1e9f6 url(images/tick.png) no-repeat left center;
	background-size: 1.3em;
	border-right: 3px solid #f1e9f6
}
</style>
</head>
<body>
<h3> <u>Selectbox with Checkbox Multiple Selection</u></h3>
<table>
<tr>
<td>Search Country</td>
<td>
<input type="text" id="selecteditem" value="" readonly="readonly" onclick="loadmultiselectbox()"> 
</td>


<td><input type="button" id="getresultmultiselectbox" value="Get Result" onclick="resultmultiselectbox()"></td>
</tr>

<tr>
<td> </td>
<td id="multiselectbox-view" class="multi-selectbox" style="display:none;">
<ul id="list-multiselectbox" onmouseleave="hidemultiselectbox();" style="width:225px;"></ul> 
</td>
<td> </td>
</tr>
</table>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script type="text/javascript">


function hidemultiselectbox()
{
    document.getElementById('multiselectbox-view').style.display = 'none';
}

function loadmultiselectbox () {
	document.getElementById('multiselectbox-view').style.display = 'block';

if($("#selecteditem").val() == ''){

	var countries = [["1","India"],["2","Singapore"],["3","Malaysia"],["4","United States"],["5","Japan"],["6","London"],["7","China"]];

		 $('#list-multiselectbox').empty();
		 var str='';
		 for(var i in countries){
          		str += '<li id="'+countries[i][0]+'" onclick="activatemultiselectbox(this)" >'+countries[i][1]+'</li> ';
		 }
 		$('#list-multiselectbox').append(str);
    }
}	

function activatemultiselectbox(element){
   var chkstatus = $(element).attr('class');
   if(chkstatus == 'active_selectbox'){
	$(element).removeClass("active_selectbox");
   }else{
   	$(element).addClass("active_selectbox");
   }  

   var selids='';
   var totalcount=0;
   $(".active_selectbox").each( function( index, el ) {
            selids = selids+el.id+",";
            totalcount = totalcount+1;
    });

   $("#selecteditem").val(totalcount+" Selected");
  }

function resultmultiselectbox () {
	var selids='';
   $(".active_selectbox").each( function( index, el ) {
            selids = selids+el.id+",";
    });
	alert(selids);
}	

</script>

</body>
</html>
