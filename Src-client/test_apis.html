<html>
	<head>
		<style>
			div{
				margin-top: 10px;
				margin-bottom: 10px;
			}
		</style>
		<script type="text/javascript" src="/files/desktop/common/js/jquery.min.js"></script>
		<script type="text/javascript" src="/files/desktop/common/js/mirror.js"></script>
		<script type="text/javascript">
			function login () {
				mirror.login(
					"Testclientuser2@domain.com",
					"123456",
					function (status, response) {
						console.log(status, response);
					}, function (data) {
						console.log(data);
					}
				);
			}
			function logout () {
				mirror.logout();
			}
			function test () {
				mirror.testClient(
					function (status, response) {
						console.log(status);
						console.log(response);
					}
				);
			}
			function callback(status, response){
				console.log(status, response);
			}
			function failure_callback(status, response){
				console.log(status, response);
			}
			function saveServiceProvider() {
				serviceProviderDetail = {
					"service_provider_name": "Test Service Provider Name 142", 
			        "address": "Test Address 142",
			        "contract_from": "25-Aug-2015",
			        "contract_to": "25-Aug-2016", 
			        "contact_person": "DongTae",
			        "contact_no": "+919232553210"
				}
				mirror.saveServiceProvider(
					serviceProviderDetail,
     				callback);
			}
			function updateServiceProvider() {
				serviceProviderDetail = {
					"service_provider_id": 2,
					"service_provider_name": "Test Service Provider Name Update 3", 
			        "address": "Test Address update 3",
			        "contract_from": "1-Jan-2017",
			        "contract_to": "31-Dec-2018", 
			        "contact_person": "Mio",
			        "contact_no": "+919131553210"
				}
				mirror.updateServiceProvider(
					serviceProviderDetail,
					callback);
			}
			function changeServiceProviderStatus() {
				serviceProviderId = 2
				isActive = 1
				mirror.changeServiceProviderStatus(serviceProviderId, isActive, callback)
			}
			function getServiceProvidersList() {
				mirror.getServiceProviders(callback)
			}
			function saveClientUserGroup(){
				userGroupDetails = {
			        "user_group_name": "Test user group name 345",
			        "form_type": "client",
			        "form_ids": [1,2]
			    }
			    mirror.saveClientUserGroup(userGroupDetails,callback);
			}
			function updateClientUserGroup(){
				userGroupDetails = {
					"user_group_id": 2,
			        "user_group_name": "Test user group name update 346",
			        "form_type": "client",
			        "form_ids": [5,6]
			    }
			    mirror.updateClientUserGroup(userGroupDetails,callback);
			}
			function changeClientUserGroupStatus(){
				userGroupId = 2
				isActive = 0
				mirror.changeClientUserGroupStatus(userGroupId,isActive, callback) ;
			}
			function getClientUserGroupList(){
				mirror.getClientUserGroups(callback);
			}
			function getClientUsers(){
				mirror.getClientUsers(callback)	
			}
			function saveClientUser(){
				clientUserDetail = {
			        "email_id": "Testclientser24@domain.com",
			        "user_group_id": 3, 
			        "employee_name": "TestClientUser24",
			        "employee_code": "TEMP028",
			        "contact_no": "+91999586249",
			        "seating_unit_id": 2,
			        "seating_unit_name": "Test Unit 2",
			        "user_level": 2,
			        "country_ids": [1],
			        "domain_ids": [1],
			        "unit_ids": [1],
			        "is_service_provider": 0,
			        "service_provider_id": null
			    }
				mirror.saveClientUser(clientUserDetail,
     					callback)
			}
			function updateClientUser(){
				clientUserDetail = {
			        "user_id": 18,
			        "user_group_id": 1, 
			        "employee_name": "Test Client User update 113",
			        "employee_code": "TEMPU113",
			        "contact_no": "+91915586246",
			        "seating_unit_id": 2,
			        "seating_unit_name": "Test Unit 113",
			        "user_level": 2,
			        "country_ids": [1],
			        "domain_ids": [1],
			        "unit_ids": [1],
			        "is_service_provider": 0,
			        "service_provider_id": null
			    }
				mirror.updateClientUser(clientUserDetail,
     					callback)
			}
			function changeClientUserStatus(){
				userId = 18
				isActive = 1
				mirror.changeClientUserStatus(userId, isActive, callback)
			}
			function changeAdminStatus(){
				userId = 18
				isAdmin = 1
				mirror.changeAdminStatus(userId, isAdmin, 
        				callback)
			}
			function getUnitClosureList(){
				mirror.getUnitClosureList(callback)
			}
			function closeUnit(){
				unitId = 2
				password = "123456"
				mirror.closeUnit(unitId, password, callback)
			}
			function saveAdminUserGroup(){
				userGroupName = "Test User Group Name 7"
		        formCategoryId = 1
		        formIds = [5,6]
          		userGroupDetail = mirror.getSaveAdminUserGroupDict(userGroupName, formCategoryId, formIds);
          		mirror.saveAdminUserGroup(userGroupDetail, callback) 
			}
			function updateAdminUserGroup(){
				userGroupId = 10
		        userGroupName = "Test User Group Name 1"
		        formCategoryId = 1
		        formIds = [4,5]
		        userGroupDetail = mirror.getUpdateAdminUserGroupDict(userGroupId, userGroupName, formCategoryId, formIds);
		        mirror.updateAdminUserGroup(userGroupDetail, 
		          callback)
			}
			function changeAdminUserGroupStatus(){
				userGroupId = 2
                Status = false
                mirror.changeAdminUserGroupStatus(userGroupId, Status, callback);
			}
			function getAdminUserGroupList(){
				mirror.getAdminUserGroupList(callback, 
					failure_callback);
			}
			function getAdminUsers(){
				mirror.getAdminUserList(callback);
			}
			function saveAdminUser(){
				emailId =  "testUser11@domain.com"
		        userGroupId = 1
		        employeeName = "Test User 1"
		        employeeCode = "TU0012"
		        contactNo = "+9177987832675"
		        address = "Test Address 1"
		        designation = "Test designation 1"
		        countryIds = [1,2]
		        domainIds = [1,2]
		        userDetail = [emailId, userGroupId, employeeName, employeeCode, contactNo, address, designation, countryIds, domainIds]
		        userDetailDict = mirror.getSaveAdminUserDict(userDetail);
		        mirror.saveAdminUser(userDetailDict, callback)
			}
			function updateAdminUser(){
				userId = 111
		        userGroupId = 1
		        employeeName = "Test User 1 update"
		        employeeCode = "TU101"
		        contactNo = "+918797832675"
		        address = "Test Address 1 update"
		        designation = "Test designation 1 update"
		        countryIds = [1,2]
		        domainIds = [1,2]
		        userDetail = [userId, userGroupId, employeeName, employeeCode, contactNo, address, designation, countryIds, domainIds]
		        userDetailDict = mirror.getUpdateAdminUserDict(userDetail);
		        mirror.updateAdminUser(userDetailDict, callback);
			}
			function changeAdminUserStatus(){
				userId = 11
		        isActive = false
		        mirror.changeAdminUserStatus(userId, isActive, callback); 
			}
			function changePassword(){
				currentPassword = "1234567"
				newPassword = "123456"
				mirror.changePassword(currentPassword, newPassword,callback)
			}
			function forgotPassword(){
				username = "Testclientser24@domain.com"
				mirror.forgotPassword(username, callback)
			}
			function validateResetToken(){
				resetToken = "1"
				mirror.validateResetToken(resetToken, callback)
			}
			function resetPassword(){
				resetToken = "158350839976395462222620754547803639110"
				newPassword = "1234567"
				mirror.resetPassword(resetToken, newPassword, callback) 
			}
			function saveClientGroup(){
				dateConfigurations = []

		        configuration1 = mirror.getDateConfigurations(1,1,1,12)
		        configuration2 = mirror.getDateConfigurations(1,2,6,5)
		        dateConfigurations.push(configuration1)
		        dateConfigurations.push(configuration2)

			    group_name = "Client Test Group 6";
		        country_ids = [1,2];
		        domain_ids = [1,2];
		        logo = "logo.png";
		        contract_from = "02-Nov-2015";
		        contract_to = "01-Nov-2016";
		        incharge_persons = [1,2];
		        no_of_user_licence = 10;
		        file_space = 4;
		        is_sms_subscribed = true;
		        email_id = "ClientTestGroup6@domain.com";
		        shortName = "test6"
			    clientGroupDetails = mirror.getSaveClientGroupDict(group_name,
		            country_ids, domain_ids, logo, contract_from, contract_to,
		            incharge_persons, no_of_user_licence,file_space,
		            is_sms_subscribed, email_id, dateConfigurations, shortName)

			   mirror.saveClientGroup(clientGroupDetails, callback);
			}
			function updateClientGroup(){
				dateConfigurations = []

		        configuration1 = mirror.getDateConfigurations(1,1,1,12)
		        dateConfigurations.push(configuration1)

		        client_id = 7
		        group_name = "Client Test Group 2 Update";
		        country_ids = [1];
		        domain_ids = [1];
		        logo = "logo.png";
		        contract_from = "02-Nov-2015";
		        contract_to = "01-Nov-2016";
		        incharge_persons = [1];
		        no_of_user_licence = 10;
		        file_space = 4;
		        is_sms_subscribed = true;
		        clientGroupDetails = mirror.getUpdateClientGroupDict(client_id,group_name,country_ids, domain_ids, logo, contract_from, contract_to,
		        incharge_persons, no_of_user_licence,file_space,is_sms_subscribed, dateConfigurations)

		        mirror.updateClientGroup(clientGroupDetails, callback);
			}
			function changeClientGroupStatus(){
				clientId = 23
		        isActive = false
		        mirror.changeClientGroupStatus( clientId, isActive, callback)
			}
			function getClientGroups(){
				mirror.getClientGroups(callback)
			}
		</script>
	</head>
	<body>
		<h1>Testing APIs</h1>
		<div>
			<button onclick="login()">Login</button>
			<button onclick="logout()">Logout</button>
			<button onclick="test()">Test Client</button>
			
		</div>
		<div>
			<button onclick="saveServiceProvider()">
				Save Service Provider
			</button>
			<button onclick="updateServiceProvider()">
				Update Service Provider
			</button>
			<button onclick="changeServiceProviderStatus()">
				Change Service Provider Status
			</button>
			<button onclick="getServiceProvidersList()">
				Get service Providers
			</button>
		</div>
		<div>
			<button onclick="saveClientUserGroup()">
				Save Client User Group
			</button>
			<button onclick="updateClientUserGroup()">
				Update Client User Group
			</button>
			<button onclick="changeClientUserGroupStatus()">
				Change Client User Group Status
			</button>
			<button onclick="getClientUserGroupList()">
				Get Client User Groups
			</button>
		</div>
		<div>
			<button onclick="getClientUsers()">
				Get Client Users
			</button>
			<button onclick="saveClientUser()">
				Save Client User
			</button>
			<button onclick="updateClientUser()">
				Update Client User
			</button>
			<button onclick="changeClientUserStatus()">
				Change Client User Status
			</button>
			<button onclick="changeAdminStatus()">
				Change Admin Status
			</button>
		</div>
		<div>
			<button onclick="getUnitClosureList()">
				Get Unit Closure List
			</button>
			<button onclick="closeUnit()">
				Close Unit
			</button>
		</div>
		<div>
			<button onclick="saveAdminUserGroup()">
				Save Admin User Group
			</button>
			<button onclick="updateAdminUserGroup()">
				Update Admin User Group
			</button>
			<button onclick="changeAdminUserGroupStatus()">
				Change Admin User Group Status
			</button>
			<button onclick="getAdminUserGroupList()">
				Get Admin User Groups
			</button>
		</div>
		<div>
			<button onclick="getAdminUsers()">
				Get Admin Users
			</button>
			<button onclick="saveAdminUser()">
				Save Admin User
			</button>
			<button onclick="updateAdminUser()">
				Update Admin User
			</button>
			<button onclick="changeAdminUserStatus()">
				Change Admin User Status
			</button>
		</div>
		<div>
			<button onclick="changePassword()">
				Change Password
			</button>
		</div>
		<div>
			<button onclick="forgotPassword()">
				Forgot Password
			</button>
			<button onclick="validateResetToken()">
				Validate Reset Token
			</button>
			<button onclick="resetPassword()">
				Reset password
			</button>
		</div>
		<div>
			<button onclick="saveClientGroup()">
				Save Client Group
			</button>
			<button onclick="updateClientGroup()">
				Update Client Group
			</button>
			<button onclick="changeClientGroupStatus()">
				Change Client Group Status
			</button>
			<button onclick="getClientGroups()">
				Get Client Groups
			</button>
		</div>
		<br>
		<br>
	</body>
</html>
