<html>
	<head>
		<style>
			div{
				margin-top: 10px;
				margin-bottom: 10px;
			}
		</style>
		<script type="text/javascript" src="/files/desktop/common/js/jquery.min.js"></script>
		<script type="text/javascript" src="/files/desktop/common/js/mirror.js"></script>
		<script type="text/javascript" src="/files/desktop/common/js/client-mirror.js"></script>
		<script type="text/javascript">
			function createSession(){
				var userDetails = {
		            "user_id": 0,
		            "client_id": 11,
		            "user_group": null,
		            "employee_name": "Admin",
		            "employee_code": null,
		            "email_id": "admin@domain.com",
		            "contact_no": null,
		            "address": null,
		            "designation": null
		        }
		        client_mirror.initSession(userDetails)
			}

			function login () {
				mirror.login(
					"sharmi",
					"123456",
					function (status, response) {
						console.log(status, response);
					}, function (data) {
						console.log(data);
					}
				);
			}
			function logout () {
				mirror.logout();
			}
			function test () {
				mirror.testClient(
					function (status, response) {
						console.log(status);
						console.log(response);
					}
				);
			}
			function callback(status, response){
				console.log(status, response);
			}
			function failure_callback(status, response){
				console.log(status, response);
			}
			function saveServiceProvider() {
				serviceProviderName = "Test Service Provider Name 6"
		         address = "Test Address 6"
		          contractFrom = "12-Aug-2015"
		          contractTo = "11-Aug-2016"
		          contactPerson = "Test Contact Person 6"
		          contactNo = "+917293473452"
		          serviceProviderDetail = [serviceProviderName, address, 
		          contractFrom, contractTo, contactPerson, contactNo]
		          serviceProviderDetail = client_mirror.getSaveServiceProviderDict(serviceProviderDetail)
		          client_mirror.saveServiceProvider(serviceProviderDetail, callback)
			}
			function updateServiceProvider() {
				serviceProviderId = 1
		        serviceProviderName = "Test Service Provider Name 1 Update"
		        address = "Test Address 1 Update"
		        contractFrom = "12-Aug-2015"
		        contractTo = "11-Aug-2016"
		        contactPerson = "Test Contact Person 1 Update"
		        contactNo = "+9177293473452"
		        serviceProviderDetail = [serviceProviderId, serviceProviderName, address, 
		        contractFrom, contractTo, contactPerson, contactNo]
		        serviceProviderDetail = client_mirror.getUpdateServiceProviderDict(serviceProviderDetail)
		        client_mirror.updateServiceProvider(serviceProviderDetail, callback)
			}
			function changeServiceProviderStatus() {
				serviceProviderId = 111
			      isActive = false
			      client_mirror.changeServiceProviderStatus(serviceProviderId, isActive,
			        callback)
			}
			function getServiceProvidersList() {
				client_mirror.getServiceProviders(callback)
			}
			function saveClientUserGroup(){
				userGroupName = "Test Client User Group 1"
		          formIds = [25, 26]
		          userGroupDetails = client_mirror.getSaveClientUserGroupDict(userGroupName, formIds)
		          client_mirror.saveClientUserGroup(userGroupDetails,callback);
			}
			function updateClientUserGroup(){
				userGroupId = 2
		          userGroupName = "Test Client User Group 1 update"
		          formIds = [4,5]
		          userGroupDetails = client_mirror.getUpdateClientUserGroupDict(userGroupId, userGroupName, formIds)
		          client_mirror.updateClientUserGroup(userGroupDetails,callback);
			}
			function changeClientUserGroupStatus(){
				 userGroupId = 1
				    isActive = false
				    client_mirror.changeClientUserGroupStatus(userGroupId,isActive, callback) ;
			}
			function getClientUserGroupList(){
				client_mirror.getClientUserGroups(callback);
			}
			function getClientUsers(){
				client_mirror.getClientUsers(callback)	
			}
			function saveClientUser(){
				emailId  = "TestClientUser2@domain.com"
		        userGroupId = 1
		        employeeName = "Test Employee 2"
		        employeeCode = "TEMP002"
		        contactNo = "+917845729583"
		        seatingUnitId = 1
		        userLevel = 1
		        countryIds = [1]
		        domainIds = [1]
		        unitIds = [1]
		        isAdmin = 0
		        isServiceProvider = 0
		        serviceProviderId = null
		        clientUserDetail = [emailId, userGroupId, employeeName, 
		        employeeCode, contactNo, seatingUnitId, userLevel, 
		        countryIds, domainIds, unitIds, isAdmin, isServiceProvider,
		        serviceProviderId]
		        clientUserDetailDict = client_mirror.getSaveClientUserDict(clientUserDetail)
		        client_mirror.saveClientUser(clientUserDetailDict, callback)

			}
			function updateClientUser(){
				userId = 1
			      userGroupId = 1
			      employeeName = "Test Employee 1 Update"
			      employeeCode = "TEMPUP001"
			      contactNo = "+917345729583"
			      seatingUnitId = 1
			      userLevel = 1
			      countryIds = [1]
			      domainIds = [1]
			      unitIds = [1]
			      isAdmin = 0
			      isServiceProvider = 1
			      serviceProviderId = 1
			      clientUserDetail = [userId, userGroupId, employeeName, 
			      employeeCode, contactNo, seatingUnitId, userLevel, 
			      countryIds, domainIds, unitIds, isAdmin, isServiceProvider,
			      serviceProviderId]
			      clientUserDetailDict = client_mirror.getUpdateClientUserDict(clientUserDetail)
			      client_mirror.updateClientUser(clientUserDetailDict, callback) 
			}
			function changeClientUserStatus(){
				userId = 1
			      isActive = 0
			      client_mirror.changeClientUserStatus(userId, isActive, callback)
			}
			function changeAdminStatus(){
				userId = 1
			      isAdmin = 0
			      client_mirror.changeAdminStatus(userId, isAdmin, callback)
			}
			function getUnitClosureList(){
				client_mirror.getUnitClosureList(callback)
			}
			function closeUnit(){
				unitId = 1;
		        password = "sjfos";
		        client_mirror.closeUnit(unitId, password, callback)
			}
			function saveAdminUserGroup(){
				userGroupName = "Test User Group Name 7"
		        formCategoryId = 1
		        formIds = [5,6]
          		userGroupDetail = mirror.getSaveAdminUserGroupDict(userGroupName, formCategoryId, formIds);
          		mirror.saveAdminUserGroup(userGroupDetail, callback) 
			}
			function updateAdminUserGroup(){
				userGroupId = 10
		        userGroupName = "Test User Group Name 1"
		        formCategoryId = 1
		        formIds = [4,5]
		        userGroupDetail = mirror.getUpdateAdminUserGroupDict(userGroupId, userGroupName, formCategoryId, formIds);
		        mirror.updateAdminUserGroup(userGroupDetail, 
		          callback)
			}
			function changeAdminUserGroupStatus(){
				userGroupId = 2
                Status = false
                mirror.changeAdminUserGroupStatus(userGroupId, Status, callback);
			}
			function getAdminUserGroupList(){
				mirror.getAdminUserGroupList(callback, 
					failure_callback);
			}
			function getAdminUsers(){
				mirror.getAdminUserList(callback);
			}
			function saveAdminUser(){
				emailId =  "testUser11@domain.com"
		        userGroupId = 1
		        employeeName = "Test User 1"
		        employeeCode = "TU0012"
		        contactNo = "+9177987832675"
		        address = "Test Address 1"
		        designation = "Test designation 1"
		        countryIds = [1,2]
		        domainIds = [1,2]
		        userDetail = [emailId, userGroupId, employeeName, employeeCode, contactNo, address, designation, countryIds, domainIds]
		        userDetailDict = mirror.getSaveAdminUserDict(userDetail);
		        mirror.saveAdminUser(userDetailDict, callback)
			}
			function updateAdminUser(){
				userId = 111
		        userGroupId = 1
		        employeeName = "Test User 1 update"
		        employeeCode = "TU101"
		        contactNo = "+918797832675"
		        address = "Test Address 1 update"
		        designation = "Test designation 1 update"
		        countryIds = [1,2]
		        domainIds = [1,2]
		        userDetail = [userId, userGroupId, employeeName, employeeCode, contactNo, address, designation, countryIds, domainIds]
		        userDetailDict = mirror.getUpdateAdminUserDict(userDetail);
		        mirror.updateAdminUser(userDetailDict, callback);
			}
			function changeAdminUserStatus(){
				userId = 11
		        isActive = false
		        mirror.changeAdminUserStatus(userId, isActive, callback); 
			}
			function changePassword(){
				currentPassword = "1234567"
				newPassword = "123456"
				mirror.changePassword(currentPassword, newPassword,callback)
			}
			function forgotPassword(){
				username = "Testclientser24@domain.com"
				mirror.forgotPassword(username, callback)
			}
			function validateResetToken(){
				resetToken = "1"
				mirror.validateResetToken(resetToken, callback)
			}
			function resetPassword(){
				resetToken = "158350839976395462222620754547803639110"
				newPassword = "1234567"
				mirror.resetPassword(resetToken, newPassword, callback) 
			}
			function saveClientGroup(){
				dateConfigurations = []

		        configuration1 = mirror.getDateConfigurations(1,1,1,12)
		        configuration2 = mirror.getDateConfigurations(1,2,6,5)
		        dateConfigurations.push(configuration1)
		        dateConfigurations.push(configuration2)

			    group_name = "Test Client 21";
		        country_ids = [1,2];
		        domain_ids = [1,2];
		        logo = "logo.png";
		        contract_from = "02-Nov-2015";
		        contract_to = "01-Nov-2016";
		        incharge_persons = [1,2];
		        no_of_user_licence = 10;
		        file_space = 4.6;
		        is_sms_subscribed = true;
		        email_id = "testclient21@domain.com";
		        shortName = "test2"
			    clientGroupDetails = mirror.getSaveClientGroupDict(group_name,
		            country_ids, domain_ids, logo, contract_from, contract_to,
		            incharge_persons, no_of_user_licence,file_space,
		            is_sms_subscribed, email_id, dateConfigurations, shortName)

			   mirror.saveClientGroup(clientGroupDetails, callback);
			}
			function updateClientGroup(){
				dateConfigurations = []

		        configuration1 = mirror.getDateConfigurations(1,1,1,12)
		        dateConfigurations.push(configuration1)

		        client_id = 7
		        group_name = "Client Test Group 21 Update";
		        country_ids = [1];
		        domain_ids = [1];
		        logo = "logo.png";
		        contract_from = "02-Nov-2015";
		        contract_to = "01-Nov-2016";
		        incharge_persons = [1];
		        no_of_user_licence = 10;
		        file_space = 4.6;
		        is_sms_subscribed = true;
		        clientGroupDetails = mirror.getUpdateClientGroupDict(client_id,group_name,country_ids, domain_ids, logo, contract_from, contract_to,
		        incharge_persons, no_of_user_licence,file_space,is_sms_subscribed, dateConfigurations)

		        mirror.updateClientGroup(clientGroupDetails, callback);
			}
			function changeClientGroupStatus(){
				clientId = 23
		        isActive = false
		        mirror.changeClientGroupStatus( clientId, isActive, callback)
			}
			function getClientGroups(){
				mirror.getClientGroups(callback)
			}
			function saveClient(){
				businessGroup = mirror.getBusinessGroupDict(null,"Test Business Group 11");
		        legalEntity = mirror.getLegalEntityDict(null,"Test Legal Entity 1");
		        division = mirror.getDivisionDict(null, "Test Division 11");
		        domainIds = [1]
		        unit1 = mirror.getUnitDict(null, "Test Unit 11", "UN001", "Test Address 1", 668234, 1, "Test location 1", 1, "Test Industry 1", domainIds)
		        unit2 = mirror.getUnitDict(null, "Test Unit 21", "UN002", "Test Address2", 668234, 1, "Test location 1", 1, "Test Industry 2", domainIds)

		        Units = [unit1, unit2]
		        countryId = 1
		        countryWiseUnits = []
		        countryWiseUnits.push(mirror.mapUnitsToCountry(countryId, Units))

		        mirror.saveClient(1, businessGroup, legalEntity, 
		        division, countryWiseUnits, callback) 
			}
			function updateClient(){
				businessGroup = mirror.getBusinessGroupDict(4,"Test Business Group 3");
		        legalEntity = mirror.getLegalEntityDict(120,"Test Legal Entity 1");
		        division = mirror.getDivisionDict(11, "Test Division 11");
		        domainIds = [1]
		        unit1 = mirror.getUnitDict(18, "Test Unit 17 update", "UNUP017", "Test Address 17 update", 668234, 1, "Test location 17 update", 1, "Test Industry 17 update", domainIds)
		        unit2 = mirror.getUnitDict(19, "Test Unit 18 update", "UNUP018", "Test Address 18 update", 668234, 1, "Test location 18 update", 1, "Test Industry 18 update", domainIds)

		        Units = [unit1, unit2]
		        countryId = 1
		        countryWiseUnits = []
		        countryWiseUnits.push(mirror.mapUnitsToCountry(countryId, Units))

		        mirror.updateClient(2, businessGroup, legalEntity, 
		        division, countryWiseUnits, callback) 
			}
			function getClients(){
				mirror.getClients(callback)
			}
			function changeClientStatus(){
				clientId = 2
		        legalEntityId = 101
		        divisionId = 9
		        isActive = false
		        mirror.changeClientStatus(clientId, legalEntityId, divisionId, isActive, callback)
			}
			function reactivateUnit(){
				clientId = 2
		        unitId = 2
		        password = "1234567"
		        mirror.reactivateUnit(clientId, unitId, password, callback)
			}
		</script>
	</head>
	<body>
		<h1>Testing APIs</h1>
		<div>
			<button onclick="login()">Login</button>
			<button onclick="logout()">Logout</button>
			<button onclick="test()">Test Client</button>
			<button onclick="createSession()">Create Session</button>
			
		</div>
		<div>
			<button onclick="saveServiceProvider()">
				Save Service Provider
			</button>
			<button onclick="updateServiceProvider()">
				Update Service Provider
			</button>
			<button onclick="changeServiceProviderStatus()">
				Change Service Provider Status
			</button>
			<button onclick="getServiceProvidersList()">
				Get service Providers
			</button>
		</div>
		<div>
			<button onclick="saveClientUserGroup()">
				Save Client User Group
			</button>
			<button onclick="updateClientUserGroup()">
				Update Client User Group
			</button>
			<button onclick="changeClientUserGroupStatus()">
				Change Client User Group Status
			</button>
			<button onclick="getClientUserGroupList()">
				Get Client User Groups
			</button>
		</div>
		<div>
			<button onclick="getClientUsers()">
				Get Client Users
			</button>
			<button onclick="saveClientUser()">
				Save Client User
			</button>
			<button onclick="updateClientUser()">
				Update Client User
			</button>
			<button onclick="changeClientUserStatus()">
				Change Client User Status
			</button>
			<button onclick="changeAdminStatus()">
				Change Admin Status
			</button>
		</div>
		<div>
			<button onclick="getUnitClosureList()">
				Get Unit Closure List
			</button>
			<button onclick="closeUnit()">
				Close Unit
			</button>
		</div>
		<div>
			<button onclick="saveAdminUserGroup()">
				Save Admin User Group
			</button>
			<button onclick="updateAdminUserGroup()">
				Update Admin User Group
			</button>
			<button onclick="changeAdminUserGroupStatus()">
				Change Admin User Group Status
			</button>
			<button onclick="getAdminUserGroupList()">
				Get Admin User Groups
			</button>
		</div>
		<div>
			<button onclick="getAdminUsers()">
				Get Admin Users
			</button>
			<button onclick="saveAdminUser()">
				Save Admin User
			</button>
			<button onclick="updateAdminUser()">
				Update Admin User
			</button>
			<button onclick="changeAdminUserStatus()">
				Change Admin User Status
			</button>
		</div>
		<div>
			<button onclick="changePassword()">
				Change Password
			</button>
		</div>
		<div>
			<button onclick="forgotPassword()">
				Forgot Password
			</button>
			<button onclick="validateResetToken()">
				Validate Reset Token
			</button>
			<button onclick="resetPassword()">
				Reset password
			</button>
		</div>
		<div>
			<button onclick="saveClientGroup()">
				Save Client Group
			</button>
			<button onclick="updateClientGroup()">
				Update Client Group
			</button>
			<button onclick="changeClientGroupStatus()">
				Change Client Group Status
			</button>
			<button onclick="getClientGroups()">
				Get Client Groups
			</button>
		</div>
		<div>
			<button onclick="saveClient()">
				Save Client 
			</button>
			<button onclick="updateClient()">
				Update Client 
			</button>
			<button onclick="changeClientStatus()">
				Change Client  Status
			</button>
			<button onclick="getClients()">
				Get Clients
			</button>
			<button onclick="reactivateUnit()">
				Reactivate Unit
			</button>
		</div>
		<br>
		<br>
	</body>
</html>
